---
import { getCollection } from "astro:content";
import Layout from '../../layouts/main.astro';
import BlogPost from "../../components/blog/blogpost.astro";
let allPosts = await getCollection("blog");
allPosts = allPosts.sort((a, b) => new Date(b.data.pubDate).valueOf() - new Date(a.data.pubDate).valueOf());
---

<Layout title="Blog" description='Altie122'>
  <div class="container mx-auto">
    <h1 class="text-2xl text-center">Blog :D</h1>
    <p class="text-center">I really don't know what to put here...</p>
    <div class="grid lg:grid-cols-2 md:grid-cols-1 gap-5 m-5">
      {allPosts.map((post) => <BlogPost url={"/blog/posts/" + post.slug} title={post.data.title} image={post.data.image} date={post.data.pubDate} author={post.data.author} description={post.data.description}/>)}
    </div>
  </div>
</Layout>